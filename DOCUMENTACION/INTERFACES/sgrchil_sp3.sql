-- MySQL Script generated by MySQL Workbench
-- Mon Apr 10 17:33:30 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema sgrchil_sp3
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `sgrchil_sp3` ;

-- -----------------------------------------------------
-- Schema sgrchil_sp3
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `sgrchil_sp3` DEFAULT CHARACTER SET utf8 ;
USE `sgrchil_sp3` ;

-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`EMP_EMPRESA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`EMP_EMPRESA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`EMP_EMPRESA` (
  `EMP_ID` INT NOT NULL AUTO_INCREMENT,
  `EMP_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`EMP_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`EST_ESTADO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`EST_ESTADO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`EST_ESTADO` (
  `EST_ID` INT NOT NULL AUTO_INCREMENT,
  `EST_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`EST_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`TCTA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`TCTA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`TCTA` (
  `TCTA_BCO` INT NOT NULL AUTO_INCREMENT,
  `TCTA_DESC` VARCHAR(45) NULL,
  PRIMARY KEY (`TCTA_BCO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`TMOV_TIPO_MOVIMIENTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`TMOV_TIPO_MOVIMIENTO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`TMOV_TIPO_MOVIMIENTO` (
  `TMOV_ID` INT NOT NULL AUTO_INCREMENT,
  `TMOV_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`TMOV_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`FTE_FUENTE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`FTE_FUENTE` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`FTE_FUENTE` (
  `FTE_ID` INT NOT NULL AUTO_INCREMENT,
  `FTE_DES` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`FTE_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`CAU_CAUSA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`CAU_CAUSA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`CAU_CAUSA` (
  `CAU_ID` INT NOT NULL AUTO_INCREMENT,
  `CAU_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CAU_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`BCO_BANCO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`BCO_BANCO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`BCO_BANCO` (
  `BCO_ID` INT NOT NULL AUTO_INCREMENT,
  `BCO_DESC` VARCHAR(45) NULL,
  PRIMARY KEY (`BCO_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`CTAE_CUENTA_EMPRESA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`CTAE_CUENTA_EMPRESA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`CTAE_CUENTA_EMPRESA` (
  `CTAE_ID` INT NOT NULL AUTO_INCREMENT,
  `CTAE_DESC` VARCHAR(45) NULL,
  `CTAE_NUMERO_CUENTA` VARCHAR(45) NULL,
  `CTAE_EMP_ID` INT NOT NULL,
  `CTAE_BCO_ID` INT NOT NULL,
  PRIMARY KEY (`CTAE_ID`),
  INDEX `fk_CTAE_CUENTA_EMPRESA_EMP_EMPRESA1_idx` (`CTAE_EMP_ID` ASC),
  INDEX `fk_CTAE_CUENTA_EMPRESA_BCO_BANCO1_idx` (`CTAE_BCO_ID` ASC),
  CONSTRAINT `fk_CTAE_CUENTA_EMPRESA_EMP_EMPRESA1`
    FOREIGN KEY (`CTAE_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CTAE_CUENTA_EMPRESA_BCO_BANCO1`
    FOREIGN KEY (`CTAE_BCO_ID`)
    REFERENCES `sgrchil_sp3`.`BCO_BANCO` (`BCO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`CLI_CLIENTE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`CLI_CLIENTE` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`CLI_CLIENTE` (
  `CLI_RUT` VARCHAR(9) NOT NULL,
  `CLI_NOMBRE` VARCHAR(90) NOT NULL,
  `CLI_CONTACTO` VARCHAR(90) NOT NULL,
  `CLI_FONO` VARCHAR(45) NOT NULL,
  `CLI_EMAIL` VARCHAR(100) NOT NULL,
  `CLI_ACT_COMERCIAL` VARCHAR(45) NOT NULL,
  `CLI_DIRECCION` TEXT NULL,
  `CLI_TCTA_BCO` INT NOT NULL,
  PRIMARY KEY (`CLI_RUT`),
  INDEX `fk_CLI_CLIENTE_TCTA1_idx` (`CLI_TCTA_BCO` ASC),
  CONSTRAINT `fk_CLI_CLIENTE_TCTA1`
    FOREIGN KEY (`CLI_TCTA_BCO`)
    REFERENCES `sgrchil_sp3`.`TCTA` (`TCTA_BCO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`CAR_CARGO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`CAR_CARGO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`CAR_CARGO` (
  `CAR_ID` INT NOT NULL AUTO_INCREMENT,
  `CAR_DES` VARCHAR(45) NOT NULL,
  `CAR_SELECT` TINYINT NOT NULL,
  `CAR_UPDATE` TINYINT NOT NULL,
  `CAR_INSERT` TINYINT NOT NULL,
  `CAR_DELETE` TINYINT NOT NULL,
  PRIMARY KEY (`CAR_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`PER_PERSONAL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`PER_PERSONAL` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`PER_PERSONAL` (
  `PER_RUT` VARCHAR(10) NOT NULL,
  `PER_NOMBRE` VARCHAR(45) NOT NULL,
  `PER_APE` VARCHAR(45) NOT NULL,
  `PER_CAR_ID` INT NOT NULL,
  `PER_EMP` INT NOT NULL,
  `PER_PASS` TEXT NOT NULL,
  PRIMARY KEY (`PER_RUT`),
  INDEX `fk_PER_PERSONAL_CAR_CARGO1_idx` (`PER_CAR_ID` ASC),
  INDEX `fk_PER_PERSONAL_EMP_EMPRESA1_idx` (`PER_EMP` ASC),
  CONSTRAINT `fk_PER_PERSONAL_CAR_CARGO1`
    FOREIGN KEY (`PER_CAR_ID`)
    REFERENCES `sgrchil_sp3`.`CAR_CARGO` (`CAR_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PER_PERSONAL_EMP_EMPRESA1`
    FOREIGN KEY (`PER_EMP`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`PRO_PROCESO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`PRO_PROCESO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`PRO_PROCESO` (
  `PRO_ID` INT NOT NULL AUTO_INCREMENT,
  `PRO_JERARQUIA` INT NOT NULL,
  `PRO_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`PRO_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`CT_CENTRO_NEGOCIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`CT_CENTRO_NEGOCIO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`CT_CENTRO_NEGOCIO` (
  `CT_ID` INT NOT NULL AUTO_INCREMENT,
  `CT_PROCESO` VARCHAR(45) NOT NULL,
  `CT_EMP_ID` INT NOT NULL,
  `CT_PRO_ID` INT NOT NULL,
  PRIMARY KEY (`CT_ID`),
  INDEX `fk_CT_CENTRO_NEGOCIO_EMP_EMPRESA1_idx` (`CT_EMP_ID` ASC),
  INDEX `fk_CT_CENTRO_NEGOCIO_PRO_PROCESO1_idx` (`CT_PRO_ID` ASC),
  CONSTRAINT `fk_CT_CENTRO_NEGOCIO_EMP_EMPRESA1`
    FOREIGN KEY (`CT_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CT_CENTRO_NEGOCIO_PRO_PROCESO1`
    FOREIGN KEY (`CT_PRO_ID`)
    REFERENCES `sgrchil_sp3`.`PRO_PROCESO` (`PRO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`OT_ORDEN_TRABAJO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`OT_ORDEN_TRABAJO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`OT_ORDEN_TRABAJO` (
  `OT_ID` INT NOT NULL AUTO_INCREMENT,
  `OT_OC` VARCHAR(45) NOT NULL,
  `OT_CLIENTE` VARCHAR(45) NOT NULL,
  `OT_FECHA_INI` DATE NOT NULL,
  `OT_FECHA_FIN` DATE NOT NULL,
  `OT_MONTO_NETO` INT NOT NULL,
  `OT_MARGEN` INT NOT NULL,
  `OT_CLI_RUT` VARCHAR(9) NOT NULL,
  `OT_PER_RUT_ENCARGADO` VARCHAR(10) NOT NULL,
  `OT_CENTRO_NEGOCIO_ID` INT NOT NULL,
  PRIMARY KEY (`OT_ID`),
  INDEX `fk_OT_ORDEN_TRABAJO_CLI_CLIENTE1_idx` (`OT_CLI_RUT` ASC),
  INDEX `fk_OT_ORDEN_TRABAJO_PER_PERSONAL1_idx` (`OT_PER_RUT_ENCARGADO` ASC),
  INDEX `fk_OT_ORDEN_TRABAJO_CT_CENTRO_NEGOCIO1_idx` (`OT_CENTRO_NEGOCIO_ID` ASC),
  CONSTRAINT `fk_OT_ORDEN_TRABAJO_CLI_CLIENTE1`
    FOREIGN KEY (`OT_CLI_RUT`)
    REFERENCES `sgrchil_sp3`.`CLI_CLIENTE` (`CLI_RUT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OT_ORDEN_TRABAJO_PER_PERSONAL1`
    FOREIGN KEY (`OT_PER_RUT_ENCARGADO`)
    REFERENCES `sgrchil_sp3`.`PER_PERSONAL` (`PER_RUT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OT_ORDEN_TRABAJO_CT_CENTRO_NEGOCIO1`
    FOREIGN KEY (`OT_CENTRO_NEGOCIO_ID`)
    REFERENCES `sgrchil_sp3`.`CT_CENTRO_NEGOCIO` (`CT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`SF_SOLICITUD_FONDO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`SF_SOLICITUD_FONDO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`SF_SOLICITUD_FONDO` (
  `SF_SOLICITUD_ID` INT NOT NULL AUTO_INCREMENT,
  `SF_EMP_ID` INT NOT NULL,
  `SF_CTAC` INT NOT NULL,
  `SF_FECHA` DATE NULL,
  `SF_CAU_ID` INT NOT NULL,
  `SF_OT_ID` INT NOT NULL,
  `SF_ASOCIADO_A` VARCHAR(45) NOT NULL,
  `SF_SOLICITANTE_RUT` VARCHAR(45) NOT NULL,
  `SF_DESC` TEXT NOT NULL,
  `SF_RECEPTOR` VARCHAR(45) NOT NULL,
  `SF_RECEPTOR_RUT` VARCHAR(10) NOT NULL,
  `SF_BCO_ID` INT NOT NULL,
  `SF_N_CTA_RECEPTOR` VARCHAR(45) NOT NULL,
  `SF_TIPO_CTA_BCO` INT NOT NULL,
  `SF_MONTO` INT NOT NULL,
  `SF_EST` INT NOT NULL,
  `SF_SOLICITUD_FONDO` VARCHAR(45) NULL,
  PRIMARY KEY (`SF_SOLICITUD_ID`),
  INDEX `fk_SF_SOLICITUD_FONDO_CAU_CAUSA_idx` (`SF_CAU_ID` ASC),
  INDEX `fk_SF_SOLICITUD_FONDO_EMP_EMPRESA1_idx` (`SF_EMP_ID` ASC),
  INDEX `fk_SF_SOLICITUD_FONDO_BCO_BANCO1_idx` (`SF_BCO_ID` ASC),
  INDEX `fk_SF_SOLICITUD_FONDO_TCTA1_idx` (`SF_TIPO_CTA_BCO` ASC),
  INDEX `fk_SF_SOLICITUD_FONDO_EST_ESTADO1_idx` (`SF_EST` ASC),
  INDEX `fk_SF_SOLICITUD_FONDO_CTAC_CUENTA_CAJA1_idx` (`SF_CTAC` ASC),
  INDEX `fk_SF_SOLICITUD_FONDO_OT_ORDEN_TRABAJO1_idx` (`SF_OT_ID` ASC),
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_CAU_CAUSA`
    FOREIGN KEY (`SF_CAU_ID`)
    REFERENCES `sgrchil_sp3`.`CAU_CAUSA` (`CAU_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_EMP_EMPRESA1`
    FOREIGN KEY (`SF_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_BCO_BANCO1`
    FOREIGN KEY (`SF_BCO_ID`)
    REFERENCES `sgrchil_sp3`.`BCO_BANCO` (`BCO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_TCTA1`
    FOREIGN KEY (`SF_TIPO_CTA_BCO`)
    REFERENCES `sgrchil_sp3`.`TCTA` (`TCTA_BCO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_EST_ESTADO1`
    FOREIGN KEY (`SF_EST`)
    REFERENCES `sgrchil_sp3`.`EST_ESTADO` (`EST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_CTAC_CUENTA_CAJA1`
    FOREIGN KEY (`SF_CTAC`)
    REFERENCES `sgrchil_sp3`.`CTAE_CUENTA_EMPRESA` (`CTAE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SF_SOLICITUD_FONDO_OT_ORDEN_TRABAJO1`
    FOREIGN KEY (`SF_OT_ID`)
    REFERENCES `sgrchil_sp3`.`OT_ORDEN_TRABAJO` (`OT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`TDC_TIPO_DOC`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`TDC_TIPO_DOC` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`TDC_TIPO_DOC` (
  `TDC_ID` INT NOT NULL AUTO_INCREMENT,
  `TDC_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`TDC_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`TPG_TIPO_GASTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`TPG_TIPO_GASTO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`TPG_TIPO_GASTO` (
  `TPG_ID` INT NOT NULL AUTO_INCREMENT,
  `TPG_DESC` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`TPG_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`DOC_DOCUMENTO_RENDICION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`DOC_DOCUMENTO_RENDICION` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`DOC_DOCUMENTO_RENDICION` (
  `DOC_ID` INT NOT NULL AUTO_INCREMENT,
  `DOC_EMP_ID` INT NOT NULL,
  `DOC_SOLICITUD_ID` INT NOT NULL,
  `DOC_RUT` VARCHAR(9) NULL,
  `DOC_PROVEEDOR` VARCHAR(45) NULL,
  `DOC_TIPO_DOC` INT NOT NULL,
  `DOC_FECHA` DATE NULL,
  `DOC_N_DOC` INT NULL,
  `DOC_TIPO_GASTO` INT NOT NULL,
  `DOC_MONTO` INT NULL,
  PRIMARY KEY (`DOC_ID`),
  INDEX `fk_DOC_DOCUMENTO_EMP_EMPRESA1_idx` (`DOC_EMP_ID` ASC),
  INDEX `fk_DOC_DOCUMENTO_SF_SOLICITUD_FONDO1_idx` (`DOC_SOLICITUD_ID` ASC),
  INDEX `fk_DOC_DOCUMENTO_TDC_TIPO_DOC1_idx` (`DOC_TIPO_DOC` ASC),
  INDEX `fk_DOC_DOCUMENTO_TPG_TIPO_GASTO1_idx` (`DOC_TIPO_GASTO` ASC),
  CONSTRAINT `fk_DOC_DOCUMENTO_EMP_EMPRESA1`
    FOREIGN KEY (`DOC_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DOC_DOCUMENTO_SF_SOLICITUD_FONDO1`
    FOREIGN KEY (`DOC_SOLICITUD_ID`)
    REFERENCES `sgrchil_sp3`.`SF_SOLICITUD_FONDO` (`SF_SOLICITUD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DOC_DOCUMENTO_TDC_TIPO_DOC1`
    FOREIGN KEY (`DOC_TIPO_DOC`)
    REFERENCES `sgrchil_sp3`.`TDC_TIPO_DOC` (`TDC_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DOC_DOCUMENTO_TPG_TIPO_GASTO1`
    FOREIGN KEY (`DOC_TIPO_GASTO`)
    REFERENCES `sgrchil_sp3`.`TPG_TIPO_GASTO` (`TPG_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`CB_CARTORLA_BANCARIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`CB_CARTORLA_BANCARIA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`CB_CARTORLA_BANCARIA` (
  `CB_ID` INT NOT NULL AUTO_INCREMENT,
  `CB_EMP_ID` INT NOT NULL,
  `CB_FECHA` DATE NOT NULL,
  `CB_TMOV_ID` INT NOT NULL,
  `CB_DESC` TEXT NOT NULL,
  `CB_MONTO` INT NOT NULL,
  `CB_EST_ID` INT NOT NULL,
  `CB_BCO` INT NOT NULL,
  `CB_CTAEEMPRESA_CTAE_ID` INT NOT NULL,
  INDEX `fk_CB_CARTORLA_BANCARIA_EMP_EMPRESA1_idx` (`CB_EMP_ID` ASC),
  INDEX `fk_CB_CARTORLA_BANCARIA_TMOV1_idx` (`CB_TMOV_ID` ASC),
  PRIMARY KEY (`CB_ID`),
  INDEX `fk_CB_CARTORLA_BANCARIA_EST_ESTADO1_idx` (`CB_EST_ID` ASC),
  INDEX `fk_CB_CARTORLA_BANCARIA_BCO_BANCO1_idx` (`CB_BCO` ASC),
  INDEX `fk_CB_CARTORLA_BANCARIA_CTAE_CUENTA_EMPRESA1_idx` (`CB_CTAEEMPRESA_CTAE_ID` ASC),
  CONSTRAINT `fk_CB_CARTORLA_BANCARIA_EMP_EMPRESA1`
    FOREIGN KEY (`CB_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CB_CARTORLA_BANCARIA_TMOV1`
    FOREIGN KEY (`CB_TMOV_ID`)
    REFERENCES `sgrchil_sp3`.`TMOV_TIPO_MOVIMIENTO` (`TMOV_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CB_CARTORLA_BANCARIA_EST_ESTADO1`
    FOREIGN KEY (`CB_EST_ID`)
    REFERENCES `sgrchil_sp3`.`EST_ESTADO` (`EST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CB_CARTORLA_BANCARIA_BCO_BANCO1`
    FOREIGN KEY (`CB_BCO`)
    REFERENCES `sgrchil_sp3`.`BCO_BANCO` (`BCO_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CB_CARTORLA_BANCARIA_CTAE_CUENTA_EMPRESA1`
    FOREIGN KEY (`CB_CTAEEMPRESA_CTAE_ID`)
    REFERENCES `sgrchil_sp3`.`CTAE_CUENTA_EMPRESA` (`CTAE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`PRO_PROVEEDOR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`PRO_PROVEEDOR` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`PRO_PROVEEDOR` (
  `PRO_RUT` INT NOT NULL,
  `PRO_NOMBRE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`PRO_RUT`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`DCP_DOCUMENTOS_PENDIENTES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`DCP_DOCUMENTOS_PENDIENTES` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`DCP_DOCUMENTOS_PENDIENTES` (
  `DCP_ID` INT NOT NULL AUTO_INCREMENT,
  `EMP_EMPRESA_EMP_ID` INT NOT NULL,
  `OT_ORDEN_TRABAJO_OT_ID` INT NOT NULL,
  `TDC_TIPO_DOC_TDC_ID` INT NOT NULL,
  `DCP_FOLIO` VARCHAR(45) NOT NULL,
  `DCP_FECHA` DATE NOT NULL,
  `DCP_GLOSA` VARCHAR(45) NOT NULL,
  `DCP_NETO` INT NOT NULL,
  `DCP_IVA` INT NOT NULL,
  `DCP_TOTAL` INT NOT NULL,
  `DCP_EST` INT NOT NULL,
  `DCP_PRO_RUT` INT NOT NULL,
  PRIMARY KEY (`DCP_ID`),
  INDEX `fk_DCP_DOCUMENTOS_PENDIENTES_EMP_EMPRESA1_idx` (`EMP_EMPRESA_EMP_ID` ASC),
  INDEX `fk_DCP_DOCUMENTOS_PENDIENTES_OT_ORDEN_TRABAJO1_idx` (`OT_ORDEN_TRABAJO_OT_ID` ASC),
  INDEX `fk_DCP_DOCUMENTOS_PENDIENTES_TDC_TIPO_DOC1_idx` (`TDC_TIPO_DOC_TDC_ID` ASC),
  INDEX `fk_DCP_DOCUMENTOS_PENDIENTES_EST_ESTADO1_idx` (`DCP_EST` ASC),
  INDEX `fk_DCP_DOCUMENTOS_PENDIENTES_PRO_PROVEEDOR1_idx` (`DCP_PRO_RUT` ASC),
  CONSTRAINT `fk_DCP_DOCUMENTOS_PENDIENTES_EMP_EMPRESA1`
    FOREIGN KEY (`EMP_EMPRESA_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DCP_DOCUMENTOS_PENDIENTES_OT_ORDEN_TRABAJO1`
    FOREIGN KEY (`OT_ORDEN_TRABAJO_OT_ID`)
    REFERENCES `sgrchil_sp3`.`OT_ORDEN_TRABAJO` (`OT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DCP_DOCUMENTOS_PENDIENTES_TDC_TIPO_DOC1`
    FOREIGN KEY (`TDC_TIPO_DOC_TDC_ID`)
    REFERENCES `sgrchil_sp3`.`TDC_TIPO_DOC` (`TDC_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DCP_DOCUMENTOS_PENDIENTES_EST_ESTADO1`
    FOREIGN KEY (`DCP_EST`)
    REFERENCES `sgrchil_sp3`.`EST_ESTADO` (`EST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DCP_DOCUMENTOS_PENDIENTES_PRO_PROVEEDOR1`
    FOREIGN KEY (`DCP_PRO_RUT`)
    REFERENCES `sgrchil_sp3`.`PRO_PROVEEDOR` (`PRO_RUT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`TFCT_TIPO_FACTURA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`TFCT_TIPO_FACTURA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`TFCT_TIPO_FACTURA` (
  `TFCT_ID` INT NOT NULL AUTO_INCREMENT,
  `TFCT_DESC` VARCHAR(45) NULL,
  PRIMARY KEY (`TFCT_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`FCT_FACTURA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`FCT_FACTURA` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`FCT_FACTURA` (
  `FCT_ID` INT NOT NULL AUTO_INCREMENT,
  `FCT_FECHA` DATE NOT NULL,
  `FCT_EMP_ID` INT NOT NULL,
  `FCT_OT_ID` INT NOT NULL,
  `FCT_TP_ID` INT NOT NULL,
  `FCT_CLI_RUT` VARCHAR(9) NOT NULL,
  `FCT_FOLIO` VARCHAR(45) NOT NULL,
  `FCT_GLOSA` VARCHAR(45) NOT NULL,
  `FCT_NETO` INT NOT NULL,
  `FCT_IVA` INT NOT NULL,
  `FACT_TOTAL` VARCHAR(45) NOT NULL,
  `FCT_EST_ID` INT NOT NULL,
  PRIMARY KEY (`FCT_ID`),
  INDEX `fk_FCT_FACTURA_EMP_EMPRESA1_idx` (`FCT_EMP_ID` ASC),
  INDEX `fk_FCT_FACTURA_TFCT_TIPO_FACTURA1_idx` (`FCT_TP_ID` ASC),
  INDEX `fk_FCT_FACTURA_CLI_CLIENTE1_idx` (`FCT_CLI_RUT` ASC),
  INDEX `fk_FCT_FACTURA_EST_ESTADO1_idx` (`FCT_EST_ID` ASC),
  INDEX `fk_FCT_FACTURA_OT_ORDEN_TRABAJO1_idx` (`FCT_OT_ID` ASC),
  CONSTRAINT `fk_FCT_FACTURA_EMP_EMPRESA1`
    FOREIGN KEY (`FCT_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FCT_FACTURA_TFCT_TIPO_FACTURA1`
    FOREIGN KEY (`FCT_TP_ID`)
    REFERENCES `sgrchil_sp3`.`TFCT_TIPO_FACTURA` (`TFCT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FCT_FACTURA_CLI_CLIENTE1`
    FOREIGN KEY (`FCT_CLI_RUT`)
    REFERENCES `sgrchil_sp3`.`CLI_CLIENTE` (`CLI_RUT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FCT_FACTURA_EST_ESTADO1`
    FOREIGN KEY (`FCT_EST_ID`)
    REFERENCES `sgrchil_sp3`.`EST_ESTADO` (`EST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FCT_FACTURA_OT_ORDEN_TRABAJO1`
    FOREIGN KEY (`FCT_OT_ID`)
    REFERENCES `sgrchil_sp3`.`OT_ORDEN_TRABAJO` (`OT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sgrchil_sp3`.`RMOV_REGISTRO_MOVIMIENTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sgrchil_sp3`.`RMOV_REGISTRO_MOVIMIENTO` ;

CREATE TABLE IF NOT EXISTS `sgrchil_sp3`.`RMOV_REGISTRO_MOVIMIENTO` (
  `RMOV_ID` INT NOT NULL AUTO_INCREMENT,
  `RMOV_EMP_ID` INT NOT NULL,
  `RMOV_CTAE` INT NOT NULL,
  `RMOV_N_CTA` VARCHAR(45) NULL,
  `RMOV_FECHA` DATE NOT NULL,
  `RMOV_TMOV_ID` INT NOT NULL,
  `RMOV_FTE_ID` INT NOT NULL,
  `RMOV_CAU_ID` INT NOT NULL,
  `RMOV_NUMERO` VARCHAR(90) NOT NULL,
  `RMOV_DESC` TEXT NULL,
  `RMOV_MONTO` INT NULL,
  `RMOV_EST_ID` INT NOT NULL,
  `RMOV_TPDOC_ID` INT NOT NULL,
  `RMOV_NUMERO_DOCUMENTO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`RMOV_ID`),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_EMP_EMPRESA1_idx` (`RMOV_EMP_ID` ASC),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_CTAC_CUENTA_CAJA1_idx` (`RMOV_CTAE` ASC),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_TMOV_TIPO_MOVIMIENTO1_idx` (`RMOV_TMOV_ID` ASC),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_FTE_FUENTE1_idx` (`RMOV_FTE_ID` ASC),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_CAU_CAUSA1_idx` (`RMOV_CAU_ID` ASC),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_EST_ESTADO1_idx` (`RMOV_EST_ID` ASC),
  INDEX `fk_RMOV_REGISTRO_MOVIMIENTO_TDC_TIPO_DOC1_idx` (`RMOV_TPDOC_ID` ASC),
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_EMP_EMPRESA1`
    FOREIGN KEY (`RMOV_EMP_ID`)
    REFERENCES `sgrchil_sp3`.`EMP_EMPRESA` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_CTAC_CUENTA_CAJA1`
    FOREIGN KEY (`RMOV_CTAE`)
    REFERENCES `sgrchil_sp3`.`CTAE_CUENTA_EMPRESA` (`CTAE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_TMOV_TIPO_MOVIMIENTO1`
    FOREIGN KEY (`RMOV_TMOV_ID`)
    REFERENCES `sgrchil_sp3`.`TMOV_TIPO_MOVIMIENTO` (`TMOV_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_FTE_FUENTE1`
    FOREIGN KEY (`RMOV_FTE_ID`)
    REFERENCES `sgrchil_sp3`.`FTE_FUENTE` (`FTE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_CAU_CAUSA1`
    FOREIGN KEY (`RMOV_CAU_ID`)
    REFERENCES `sgrchil_sp3`.`CAU_CAUSA` (`CAU_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_EST_ESTADO1`
    FOREIGN KEY (`RMOV_EST_ID`)
    REFERENCES `sgrchil_sp3`.`EST_ESTADO` (`EST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RMOV_REGISTRO_MOVIMIENTO_TDC_TIPO_DOC1`
    FOREIGN KEY (`RMOV_TPDOC_ID`)
    REFERENCES `sgrchil_sp3`.`TDC_TIPO_DOC` (`TDC_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
